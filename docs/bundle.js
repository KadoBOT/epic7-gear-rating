var app=function(){"use strict";function e(){}function n(e){return e()}function t(){return Object.create(null)}function a(e){e.forEach(n)}function l(e){return"function"==typeof e}function s(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function c(e,n){e.appendChild(n)}function u(e,n,t){e.insertBefore(n,t||null)}function o(e){e.parentNode.removeChild(e)}function i(e){return document.createElement(e)}function r(e){return document.createTextNode(e)}function m(){return r(" ")}function d(e,n,t,a){return e.addEventListener(n,t,a),()=>e.removeEventListener(n,t,a)}function h(e,n,t){null==t?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function f(e,n){n=""+n,e.data!==n&&(e.data=n)}function v(e,n){(null!=n||e.value)&&(e.value=n)}function p(e,n){for(let t=0;t<e.options.length;t+=1){const a=e.options[t];if(a.__value===n)return void(a.selected=!0)}}function g(e){const n=e.querySelector(":checked")||e.options[0];return n&&n.__value}let b;function $(e){b=e}const _=[],L=[],x=[],y=[],V=Promise.resolve();let S=!1;function w(e){x.push(e)}function k(){const e=new Set;do{for(;_.length;){const e=_.shift();$(e),C(e.$$)}for(;L.length;)L.pop()();for(let n=0;n<x.length;n+=1){const t=x[n];e.has(t)||(t(),e.add(t))}x.length=0}while(_.length);for(;y.length;)y.pop()();S=!1}function C(e){null!==e.fragment&&(e.update(e.dirty),a(e.before_update),e.fragment&&e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(w))}const E=new Set;let O;function j(e,n){e&&e.i&&(E.delete(e),e.i(n))}function N(e,n,t,a){if(e&&e.o){if(E.has(e))return;E.add(e),O.c.push(()=>{E.delete(e),a&&(t&&e.d(1),a())}),e.o(n)}}const A="undefined"!=typeof window?window:global;function P(e){e&&e.c()}function R(e,t,s){const{fragment:c,on_mount:u,on_destroy:o,after_update:i}=e.$$;c&&c.m(t,s),w(()=>{const t=u.map(n).filter(l);o?o.push(...t):a(t),e.$$.on_mount=[]}),i.forEach(w)}function q(e,n){const t=e.$$;null!==t.fragment&&(a(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx={})}function B(e,n){e.$$.dirty||(_.push(e),S||(S=!0,V.then(k)),e.$$.dirty=t()),e.$$.dirty[n]=!0}function D(n,l,s,c,u,o){const i=b;$(n);const r=l.props||{},m=n.$$={fragment:null,ctx:null,props:o,update:e,not_equal:u,bound:t(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:t(),dirty:null};let d=!1;m.ctx=s?s(n,r,(e,t,a=t)=>(m.ctx&&u(m.ctx[e],m.ctx[e]=a)&&(m.bound[e]&&m.bound[e](a),d&&B(n,e)),t)):r,m.update(),d=!0,a(m.before_update),m.fragment=!!c&&c(m.ctx),l.target&&(l.hydrate?m.fragment&&m.fragment.l(function(e){return Array.from(e.childNodes)}(l.target)):m.fragment&&m.fragment.c(),l.intro&&j(n.$$.fragment),R(n,l.target,l.anchor),k()),$(i)}class M{$destroy(){q(this,1),this.$destroy=e}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const e=t.indexOf(n);-1!==e&&t.splice(e,1)}}$set(){}}const{Object:T}=A;function H(e,n,t){const a=T.create(e);return a.key=n[t][0],a.value=n[t][1],a}function F(e){let n,t,l,s,r,f,g,b,$,_,L,x,y=!1,V=Object.entries(e.substats),S=[];for(let n=0;n<V.length;n+=1)S[n]=I(H(e,V,n));let k=e.isSelected&&z(e);function C(){y=!0,e.input_input_handler.call($)}let E=e.isSelected&&G();return{c(){n=i("form"),t=i("div"),l=i("div"),s=i("select");for(let e=0;e<S.length;e+=1)S[e].c();r=m(),f=i("div"),g=i("div"),k&&k.c(),b=m(),$=i("input"),L=m(),E&&E.c(),h(s,"class","form-control"),h(s,"id","substatType"),void 0===e.selected&&w(()=>e.select_change_handler.call(s)),h(l,"class","col-5"),h($,"type","number"),h($,"class","form-control"),h($,"id","substatValue"),$.disabled=_="0"===e.selected,h($,"min",e.min),h($,"max",e.max),h($,"placeholder",e.substatPlaceholder),h(g,"class","input-group mb-2"),h(f,"class","col"),h(t,"class","form-row align-items-center"),x=[d(s,"change",e.select_change_handler),d($,"input",C),d($,"change",e.handleChange)]},m(a,o){u(a,n,o),c(n,t),c(t,l),c(l,s);for(let e=0;e<S.length;e+=1)S[e].m(s,null);p(s,e.selected),c(t,r),c(t,f),c(f,g),k&&k.m(g,null),c(g,b),c(g,$),v($,e.substatValue),c(g,L),E&&E.m(g,null)},p(e,n){if(e.Object||e.substats){let t;for(V=Object.entries(n.substats),t=0;t<V.length;t+=1){const a=H(n,V,t);S[t]?S[t].p(e,a):(S[t]=I(a),S[t].c(),S[t].m(s,null))}for(;t<S.length;t+=1)S[t].d(1);S.length=V.length}e.selected&&p(s,n.selected),n.isSelected?k?k.p(e,n):((k=z(n)).c(),k.m(g,b)):k&&(k.d(1),k=null),e.selected&&_!==(_="0"===n.selected)&&($.disabled=_),e.min&&h($,"min",n.min),e.max&&h($,"max",n.max),e.substatPlaceholder&&h($,"placeholder",n.substatPlaceholder),!y&&e.substatValue&&v($,n.substatValue),y=!1,n.isSelected?E||((E=G()).c(),E.m(g,null)):E&&(E.d(1),E=null)},d(e){e&&o(n),function(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}(S,e),k&&k.d(),E&&E.d(),a(x)}}}function I(e){let n,t,a,l,s=e.value.name+"";return{c(){n=i("option"),t=r(s),a=m(),n.__value=l=e.key,n.value=n.__value},m(e,l){u(e,n,l),c(n,t),c(n,a)},p(e,a){e.substats&&s!==(s=a.value.name+"")&&f(t,s),e.substats&&l!==(l=a.key)&&(n.__value=l),n.value=n.__value},d(e){e&&o(n)}}}function z(e){let n,t,a,l;return{c(){n=i("div"),t=i("div"),a=r("Max: "),l=r(e.max),h(t,"class","input-group-text"),h(n,"class","input-group-prepend d-none d-md-block")},m(e,s){u(e,n,s),c(n,t),c(t,a),c(t,l)},p(e,n){e.max&&f(l,n.max)},d(e){e&&o(n)}}}function G(e){let n;return{c(){(n=i("div")).innerHTML='<div class="input-group-text">%</div>',h(n,"class","input-group-append")},m(e,t){u(e,n,t)},d(e){e&&o(n)}}}function J(n){let t,a="-1"!==n.enhancementLevel&&F(n);return{c(){a&&a.c(),t=r("")},m(e,n){a&&a.m(e,n),u(e,t,n)},p(e,n){"-1"!==n.enhancementLevel?a?a.p(e,n):((a=F(n)).c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i:e,o:e,d(e){a&&a.d(e),e&&o(t)}}}function K(e,n,t){let a,l,s,c,u,o,i,{is88:r}=n,{enhancementLevel:m}=n,{handleValue:d}=n,{substats:h}=n;return e.$set=e=>{"is88"in e&&t("is88",r=e.is88),"enhancementLevel"in e&&t("enhancementLevel",m=e.enhancementLevel),"handleValue"in e&&t("handleValue",d=e.handleValue),"substats"in e&&t("substats",h=e.substats)},e.$$.update=(e={selected:1,substats:1,is88:1,substat:1,enhancementLevel:1,isSelected:1,min:1,max:1})=>{e.selected&&t("isSelected",l="0"!==a),(e.substats||e.selected)&&t("substat",s=h[a]),(e.is88||e.substat)&&t("min",c=r?s.min88:s.min),(e.is88||e.substat||e.enhancementLevel)&&t("max",u=(r?s.max88:s.max)*(Number(m)+1)),(e.isSelected||e.min||e.max)&&t("substatPlaceholder",o=l?`${c}-${u}`:"N/A"),e.isSelected||e.enhancementLevel},t("selected",a="0"),t("substatValue",i=""),{is88:r,enhancementLevel:m,handleValue:d,substats:h,handleChange:function(){d([i,a])},selected:a,isSelected:l,min:c,max:u,substatPlaceholder:o,substatValue:i,select_change_handler:function(){a=g(this),t("selected",a),t("Object",Object),t("substats",h)},input_input_handler:function(){var e;e=this.value,t("substatValue",i=""===e?void 0:+e)}}}class Q extends M{constructor(e){super(),D(this,e,K,J,s,{is88:0,enhancementLevel:0,handleValue:0,substats:0})}}function U(n){let t,a,l,s,m,d=n.getRating()+"";return{c(){t=i("div"),a=i("div"),l=r("Stats rolls luck: "),s=i("span"),m=r(d),h(s,"class","font-weight-bold text-monospace"),h(a,"class","card-body"),h(t,"class","card")},m(e,n){u(e,t,n),c(t,a),c(a,l),c(a,s),c(s,m)},p(e,n){e.getRating&&d!==(d=n.getRating()+"")&&f(m,d)},i:e,o:e,d(e){e&&o(t)}}}function W(e,n,t){let a,{values:l}=n,{enhancementLevel:s}=n;return e.$set=e=>{"values"in e&&t("values",l=e.values),"enhancementLevel"in e&&t("enhancementLevel",s=e.enhancementLevel)},e.$$.update=(e={enhancementLevel:1,values:1})=>{(e.enhancementLevel||e.values)&&t("getRating",a=()=>{const e=Number(s)+1,n=l.reduce((e,[n,t])=>e+100*n/t,0)-10*e;return n<=445?"F":n<=470?"E":n<=500?"D":n<=535?"C":n<=575?"B":n<=640?"A":n<=778?"S":n<=815?"SS":"SSS"})},{values:l,enhancementLevel:s,getRating:a}}class X extends M{constructor(e){super(),D(this,e,W,U,s,{values:0,enhancementLevel:0})}}function Y(e){let n,t,l,s,r,f,v,g,b,$,_,L,x,y,V,S,k,C,E,O,A,B,D,M;const T=new Q({props:{is88:e.is88,substats:e.substats,enhancementLevel:e.enhancementLevel,handleValue:e.handleValue(0)}}),H=new Q({props:{is88:e.is88,substats:e.substats,enhancementLevel:e.enhancementLevel,handleValue:e.handleValue(1)}}),F=new Q({props:{is88:e.is88,substats:e.substats,enhancementLevel:e.enhancementLevel,handleValue:e.handleValue(2)}}),I=new Q({props:{is88:e.is88,substats:e.substats,enhancementLevel:e.enhancementLevel,handleValue:e.handleValue(3)}}),z=new X({props:{values:e.values,enhancementLevel:e.enhancementLevel}});return{c(){n=i("div"),t=i("div"),l=i("select"),(s=i("option")).textContent="Select enhancement level",(r=i("option")).textContent="None",(f=i("option")).textContent="3+",(v=i("option")).textContent="6+",(g=i("option")).textContent="9+",(b=i("option")).textContent="12+",($=i("option")).textContent="15",L=m(),x=i("div"),y=i("div"),V=i("input"),S=m(),(k=i("label")).textContent="Level 88+ equip",C=m(),P(T.$$.fragment),E=m(),P(H.$$.fragment),O=m(),P(F.$$.fragment),A=m(),P(I.$$.fragment),B=m(),P(z.$$.fragment),s.disabled=!0,s.__value="-1",s.value=s.__value,r.__value="0",r.value=r.__value,f.__value="1",f.value=f.__value,v.__value="2",v.value=v.__value,g.__value="3",g.value=g.__value,b.__value="4",b.value=b.__value,$.__value="5",$.value=$.__value,h(l,"class","form-control"),h(l,"id","enhancementLevel"),void 0===e.enhancementLevel&&w(()=>e.select_change_handler.call(l)),h(t,"class","col-4"),h(V,"type","checkbox"),h(V,"class","form-check-input"),h(V,"id","higherLevel"),h(k,"class","form-check-label"),h(k,"for","higherLevel"),h(y,"class","form-check mb-2"),h(x,"class","col-8"),h(n,"class","form-row align-items-center"),M=[d(l,"change",e.select_change_handler),d(V,"change",e.input_change_handler)]},m(a,o){u(a,n,o),c(n,t),c(t,l),c(l,s),c(l,r),c(l,f),c(l,v),c(l,g),c(l,b),c(l,$),_="-1";for(var i=0;i<l.options.length;i+=1){var m=l.options[i];if("-1"===m.__value){m.selected=!0;break}}p(l,e.enhancementLevel),c(n,L),c(n,x),c(x,y),c(y,V),V.checked=e.is88,c(y,S),c(y,k),u(a,C,o),R(T,a,o),u(a,E,o),R(H,a,o),u(a,O,o),R(F,a,o),u(a,A,o),R(I,a,o),u(a,B,o),R(z,a,o),D=!0},p(e,n){e.enhancementLevel&&p(l,n.enhancementLevel),e.is88&&(V.checked=n.is88);const t={};e.is88&&(t.is88=n.is88),e.enhancementLevel&&(t.enhancementLevel=n.enhancementLevel),T.$set(t);const a={};e.is88&&(a.is88=n.is88),e.enhancementLevel&&(a.enhancementLevel=n.enhancementLevel),H.$set(a);const s={};e.is88&&(s.is88=n.is88),e.enhancementLevel&&(s.enhancementLevel=n.enhancementLevel),F.$set(s);const c={};e.is88&&(c.is88=n.is88),e.enhancementLevel&&(c.enhancementLevel=n.enhancementLevel),I.$set(c);const u={};e.values&&(u.values=n.values),e.enhancementLevel&&(u.enhancementLevel=n.enhancementLevel),z.$set(u)},i(e){D||(j(T.$$.fragment,e),j(H.$$.fragment,e),j(F.$$.fragment,e),j(I.$$.fragment,e),j(z.$$.fragment,e),D=!0)},o(e){N(T.$$.fragment,e),N(H.$$.fragment,e),N(F.$$.fragment,e),N(I.$$.fragment,e),N(z.$$.fragment,e),D=!1},d(e){e&&o(n),e&&o(C),q(T,e),e&&o(E),q(H,e),e&&o(O),q(F,e),e&&o(A),q(I,e),e&&o(B),q(z,e),a(M)}}}function Z(e,n,t){let a,l,s=!1,c={0:{min:"",max:"",name:"Other substat or none"},1:{min:4,min88:5,max:8,max88:9,name:"HP/Def/Eff/EffRes/Atk"},2:{min:3,min88:3,max:5,max88:6,name:"Crit Rate"},3:{min:3,min88:4,max:7,max88:8,name:"Crit Dmg"},4:{min:1,min88:2,max:4,max88:5,name:"Speed"}};return t("enhancementLevel",a="-1"),t("values",l=[]),{is88:s,substats:c,handleValue:function(e){return function([n,a]){t("values",l[e]=[n,c[a].max],l)}},enhancementLevel:a,values:l,select_change_handler:function(){a=g(this),t("enhancementLevel",a)},input_change_handler:function(){s=this.checked,t("is88",s)}}}class ee extends M{constructor(e){super(),D(this,e,Z,Y,s,{})}}function ne(n){let t;const a=new ee({});return{c(){P(a.$$.fragment)},m(e,n){R(a,e,n),t=!0},p:e,i(e){t||(j(a.$$.fragment,e),t=!0)},o(e){N(a.$$.fragment,e),t=!1},d(e){q(a,e)}}}return new class extends M{constructor(e){super(),D(this,e,null,ne,s,{})}}({target:document.getElementById("app"),props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
